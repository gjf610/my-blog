## 数据响应式（Reactivity）

响应式是Vue的一个核心特性，用于监听视图中绑定的数据，当数据发生改变时视图自动更新。

### 响应性问题

假设我们有个需求，b等于a的5倍，如果使用命令式编程，可以很简单实现，就像下面的示例：

```js
let a = 2
let b = a * 5
console.log(b) // 10
```
问题是我们把a设置成4时，b还是等于10。因为它是命令式的，不会实现数据的同步更新
```js
a = 4
console.log(b) // 10 
```

那怎么让他们保持同步呢？为了让b等于a的5倍，那我们需要重新设置b的值，像下面代码：
```js
b = a * 5; 
console.log(b) // 20 
```
这样每次更新a的时候，都需要手动更新b。这种方式显然太麻烦了，我希望仅重新赋值a一次，b就可以做到更新。

### 灵感来源
上面的需求你会发现跟Excel表格有点像。一个A单元格，一个B单元格，B单元格是A单元格的5倍。

在Excel中，可以用一个叫函数（function）的东西实现，你可以声明两个单元格之间的函数关系————B单元格总是A单元格的5倍。那在编程中怎么实现这种功能呢？

如果有一个函数叫onAChanged，它接收一个函数。当A改变时，他会自动重新执行这个传入的函数。那么问题就解决了！

```js
onAChanged(()=>{
    b = a * 5
})
```
好，现在思路有了，该如何实现功能呢？

### 

```js
let update
const onStateChanged = _update => {
    update = _update
}
const setState = newState => {
    state = newState
    update()
}
```